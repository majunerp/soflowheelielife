try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="266f87b3-e8f8-44ef-a2b2-9778408c453d",e._sentryDebugIdIdentifier="sentry-dbid-266f87b3-e8f8-44ef-a2b2-9778408c453d")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:crazygames-portal":!0})}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[75910],{1659:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});let n=(0,a(16546).F3)("InAppReview",{web:()=>a.e(7873).then(a.bind(a,7873)).then(e=>new e.InAppReviewWeb)})},76228:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return a(51222)}])},39334:(e,t,a)=>{"use strict";a.d(t,{A:()=>A});var n=a(74848),r=a(96540),i=a(341),s=a(42293),o=a(45031),l=a(38037),d=a(88363),c=a(15373),u=a(16546),g=a(1659),m=a(59386),p=a(16771),h=a(38131),y=a(64996);let f=e=>{let{gameId:t}=e,{services:a}=r.useContext(y.A),{user:n}=r.useContext(m.R),{syncPlayedTime:i}=r.useContext(d.oJ),s=r.useRef(Date.now()),o={};p.Ll.forEach(e=>{o[e]=!1});let l=r.useRef(o),c="IN_APP_REVIEW_REQUESTED",f=r.useRef(!1),w=()=>"true"===h.A.Instance.getItem(c),A=()=>h.A.Instance.setItem(c,"true"),{gamesPlayedService:v,analyticsService:T}=a;r.useEffect(()=>()=>{i()},[i,t]);let x=(0,r.useCallback)(()=>{let e=Math.round((Date.now()-s.current)/1e3);p.Ll.forEach(a=>{e>=60*a&&!l.current[a]&&(T.trackSessionPlaytimeRanges(t,a),l.current[a]=!0)})},[t,T]),I=(0,r.useCallback)(()=>{if(!n)return;let e=Math.round((Date.now()-s.current)/1e3);v.handlePlayedTimeForUPSync(t,e)},[n,t,v]),S=(0,r.useCallback)(()=>{Math.round((Date.now()-s.current)/1e3)>=300&&!w()&&(f.current=!0)},[]);return r.useEffect(()=>()=>{f.current&&!w()&&(u.Ii.isNativePlatform()&&g.Z.requestReview(),A())},[]),r.useEffect(()=>{n&&I()},[n,I]),r.useEffect(()=>{let e=null,t=()=>{e=window.setInterval(()=>{I(),x()},p.sB)},a=()=>{e&&(window.clearInterval(e),I(),x(),e=null)},n=()=>{document.hidden?a():t()};return t(),document.addEventListener("visibilitychange",n),function(){document.removeEventListener("visibilitychange",n),e&&window.clearInterval(e)}},[x,I,S]),null};class w extends r.Component{constructor(e){super(e),this.addToRecentTimeout=null,this.gameStartTime=0,this.pageUnload=()=>{this.savePlayedGameTime()},this.processMessage=e=>{if(e.data&&e.data.type===i.x)switch(e.data.event){case"afterPlayNow":case"gameStartLoad":break;case"gameLoaded":{let{gfVersion:t}=e.data;this.handlePlayerStartedPlaying(t);return}}},this.delayedAddToRecent=()=>{let{game:e,userRecent:t}=this.props;t.addToRecent({id:e.id,slug:e.slug,name:e.name,cover:e.cover,covers:e.covers,videos:e.videos,status:e.status,iosFriendly:e.iosFriendly,androidFriendly:e.androidFriendly,mobileFriendly:!!(e.iosFriendly||e.androidFriendly),gameThumbLabels:[],playedTime:45})},this.state={trackTime:!1}}render(){let{game:e}=this.props,{trackTime:t}=this.state;return t&&(0,n.jsx)(f,{gameId:e.id})}componentDidMount(){let{services:e,game:t}=this.props;e.crazyAnalyticsService.gamePageLoaded(t.id,t.buildId),window.addEventListener("message",this.processMessage),window.addEventListener("pagehide",this.pageUnload)}componentWillUnmount(){this.savePlayedGameTime(),this.clearGameTracking(),window.removeEventListener("pagehide",this.pageUnload),window.removeEventListener("message",this.processMessage),this.props.services.crazyAnalyticsService.gamePageExited()}handlePlayerStartedPlaying(e){this.setGameTracking(e),this.addToRecent()}addToRecent(){this.addToRecentTimeout=window.setTimeout(this.delayedAddToRecent,45e3)}setGameTracking(e){let{services:t,game:a}=this.props,{gamesPlayedService:n,crazyAnalyticsService:r}=t;n.startedPlayingGame(a),this.gameStartTime=Date.now();let i=c.SS(a.slug)?.numPlays||1;r.playingStarts({gfVersion:e,gameId:a.id,buildId:a.buildId,numPlays:i}),(0,c.A8)(a.slug),this.setState({trackTime:!0})}savePlayedGameTime(){let{game:e,services:t}=this.props;if(this.gameStartTime){let a=Math.min(27e5,Date.now()-this.gameStartTime);t.gamesPlayedService.trackPlayedTime(e.slug,a),(0,o.Pq)(e.id,a)}}clearGameTracking(){this.addToRecentTimeout&&window.clearTimeout(this.addToRecentTimeout),this.setState({trackTime:!1})}}let A=(0,l.A)((0,d.QR)((0,s.A)(w)))},18705:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(74848),r=a(96540),i=a(13368),s=a.n(i),o=a(49754),l=a(35265),d=a(27108);let c=e=>{let{canonical:t,title:a,description:i,imageUrl:c="crazygames/share.png",imageWidth:u=1200,imageHeight:g=630,imageQuality:m,type:p}=e,{locale:h}=r.useContext(d.A),y=(0,o.Ay)(c,{width:u,height:g,fit:"crop",quality:m});return(0,n.jsxs)(s(),{children:[(0,n.jsx)("meta",{property:"og:url",content:t}),(0,n.jsx)("meta",{property:"og:title",content:a}),(0,n.jsx)("meta",{property:"og:description",content:i}),(0,n.jsx)("meta",{property:"og:locale",content:(0,l.qz)(h)}),(0,n.jsx)("meta",{property:"og:image",content:y}),(0,n.jsx)("meta",{property:"og:image:width",content:u.toString()}),(0,n.jsx)("meta",{property:"og:image:height",content:g.toString()}),p&&(0,n.jsx)("meta",{property:"og:type",content:p}),(0,n.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,n.jsx)("meta",{property:"twitter:url",content:t}),(0,n.jsx)("meta",{property:"twitter:title",content:a}),(0,n.jsx)("meta",{property:"twitter:description",content:i}),(0,n.jsx)("meta",{property:"twitter:image",content:y})]})}},50671:(e,t,a)=>{"use strict";a.d(t,{$Y:()=>I,AJ:()=>h,CZ:()=>x,EJ:()=>A,H_:()=>y,Qe:()=>v,Qh:()=>m,Qq:()=>g,T5:()=>p,a1:()=>S,hA:()=>T,uA:()=>f,wN:()=>w,xV:()=>P});var n=a(40241),r=a(2503),i=a(96230),s=a(45300),o=a(35265),l=a(24348),d=a(97373),c=a(3600);function u(e){return s.A.Instance.data.domains.map(t=>{let a="en-US"===(0,o.cy)(t.host),n={...i.a},s=new r.A(n).generateHome({page:e});if(!s)return null;let l=(0,c.A)(t.host,s.as,{isMainDomain:a,locale:t.locale}).toString();return{locale:t.locale,href:l.toString(),host:t.host}}).filter(e=>!!e)}function g(e){return b(e=>e.generateCompetitions(),{},e,"competitions")}function m(e){return b(e=>e.generateScholarship(),{},e,"scholarship")}function p(e){return b(e=>e.generateRecent(),{},e,"recent")}function h(){return j(e=>e.generateOriginals(),{})}function y(e){return b(e=>e.generateTags(),{},e,"tags")}function f(e,t){return b((e,t)=>e.generateGame(t),{slug:e},t,"game")}function w(e){return b(e=>e.generatePrivacyPolicy(),{},e,"privacyPolicy")}function A(e){return b(e=>e.generateTermsAndConditions(),{},e,"termsAndConditions")}function v(e){return b(e=>e.generateSearch(),{},e,"search")}function T(e){return j(t=>t.generateProfilePage(e),{})}async function x(e,t,a,n,r){if(r)return u(n);if(t&&"hot"===t)return j(e=>e.generatePaginatedHotGames({page:1}),{});switch(e){case d.QI:return b(e=>e.generatePaginatedNewGames({page:n}),{},await a.getRouteProviderData("newGames"),"newGames");case d.nn:case d.F3:return j(e=>e.generatePaginatedUpdatedGames({page:n}),{});default:return console.warn(`unexpected sorting in games ${e}`),u(n)}}async function I(e,t,a){if(e.isCategory){let n=await t.getRouteProviderData("category");return b((e,t)=>e.generateCategory(t),{slugTrl:e.slug,page:a},n,"category")}{let n=await t.getRouteProviderData("tag");return b((e,t)=>e.generateTag(t),{slugTrl:e.slug,page:a},n,"tag")}}async function S(e,t,a){return j((t,a)=>t.generateMultiplayerWithTag(a,e.slug),{page:t,sorting:a})}function P(e){return j(t=>t.generateAllGames(e),{})}function b(e,t,a,n){return(function(e){let t=s.A.Instance.data.domains;return e.map(e=>({domain:t.find(t=>(0,o.qz)(t.locale)===e.locale),routeData:e}))})(a).map(a=>{let s=a.domain,l="en-US"===(0,o.cy)(s.host),d=s.locale,u={...i.a,[n]:a.routeData.route,locale:a.routeData.locale},g=e(new r.A(u),t);if(!g||!a.domain)return null;let m=(0,c.A)(a.domain.host,g.as,{isMainDomain:l,locale:d}).toString();return{locale:a.domain.locale,href:m.toString(),host:a.domain.host}}).filter(e=>!!e)}function j(e,t){let a=s.A.Instance.data.domains;return n.YZ.map(n=>{let s=a.find(e=>e.locale===n);if(!s)return null;let d="en-US"===(0,o.cy)(s.host),u={...i.a,locale:l.Ec[n].serverLocale},g=e(new r.A(u),t);if(!g)return null;let m=(0,c.A)(s.host,g.as,{isMainDomain:d,locale:n}).toString();return{locale:s.locale,href:m.toString(),host:s.host}}).filter(e=>!!e)}},45031:(e,t,a)=>{"use strict";a.d(t,{Bs:()=>o,Lt:()=>c,Pq:()=>l});var n=a(12896),r=a(15373),i=a(38131);let s="personalized_carousel_games";function o(){let e=i.A.Instance.getItem(s);if(!(0,n.isDefined)(e))return d().map(e=>e.gameId).slice(0,2);let t=JSON.parse(e).slice(0,5);return t.sort((e,t)=>t.playTimeSeconds-e.playTimeSeconds),t.slice(0,2).map(e=>e.gameId)}function l(e,t){let a=t/1e3;if(a<120)return;let r=i.A.Instance,o=r.getItem(s),l=((0,n.isDefined)(o)?JSON.parse(o):d()).filter(t=>t.gameId!==e);return l.unshift({gameId:e,playTimeSeconds:a}),l.length>10&&l.pop(),r.setItem(s,JSON.stringify(l)),l}function d(){let e=(0,r.Ax)().slice(0,3).map(e=>({gameId:e,playTimeSeconds:0,gameSlug:""}));return i.A.Instance.setItem(s,JSON.stringify(e)),e}function c(e,t){let a=[],n=new Set,r=Math.max(...e.map(e=>e?.items.length??0));for(let i=0;i<r;i++)for(let r of e)if(r?.items[i]&&!n.has(r.items[i].id)&&(n.add(r.items[i].id),a.push(r.items[i]),a.length>=t))return a;return a}},51222:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var n=a(74848),r=a(96540),i=a(4743),s=a(14953),o=a.n(s),l=a(86715),d=a.n(l),c=a(87550),u=a(53164),g=a(94282),m=a(39334),p=a(45249),h=a(43541);let y=e=>{let{structuredData:t}=e,{i18n:a}=(0,i.uB)(),{routeHelper:s}=r.useContext(p.A);if(!t)return null;let o=[{...t,isPartOf:(0,h.Xr)(a,s)}];return(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(o)}})};var f=a(18705),w=a(71197),A=a(29467),v=a(7040),T=a(27434),x=a(45300),I=a(50671),S=a(8056),P=a(40499),b=a(54437),j=a(17033),_=a(35265),D=a(62603),R=a(31162),E=a(97373),k=a(73319),C=a(18951),L=a(89737);let M=o()(()=>Promise.all([a.e(2174),a.e(24813),a.e(65293),a.e(79004),a.e(31811),a.e(15291),a.e(51668)]).then(a.bind(a,51668)),{loadableGenerated:{webpack:()=>[51668]},loading:()=>null,ssr:!0}),G=o()(()=>Promise.all([a.e(2174),a.e(24813),a.e(65293),a.e(25187),a.e(27692),a.e(79004),a.e(31811),a.e(15291),a.e(30990)]).then(a.bind(a,30990)),{loadableGenerated:{webpack:()=>[30990]},loading:()=>null,ssr:!0}),F=e=>{let{game:t,related:a,alternatives:s,isCrawler:o,locale:l}=e,{routeHelper:d}=r.useContext(p.A),h=r.useContext(S.A),I=(0,i.uB)();r.useEffect(()=>((0,b.I)({gameId:t.id}),()=>(0,b.I)({gameId:null})),[t.id]);let j={name:t.name,category:t.category?.name||""},_=t.pageTitle?t.pageTitle:I._("game.head.title",{name:t.name}),D=t.metaDescription||I._("game.head.metaDescriptionFallback",j),R=d.gameCanonical(t.slug),E=x.A.Instance.data.advertizing.domain,C=!(0,P.xl)(h)&&!t.iosFriendly&&!t.androidFriendly,L=!!t.disableAds||"UNAVAILABLE"===t.status||C||(0,k.O)(),F=t.tags.map(e=>e.enSlug||e.slug);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(c.A,{locale:l,advertisingGame:{gameName:t.name,gameSlug:t.slug,categoryEnSlug:t.category?.enSlug,tagsSlug:F,numLikes:t.upvotes},disabled:L,smartRefresh:{minWaitInMs:t.minWaitForSmartRefreshInMs,maxWaitInMs:t.maxWaitForSmartRefreshInMs},edgeExperiments:{},children:[(0,n.jsxs)(g.A,{title:_,metaDescription:D,canonical:R,alternatives:s,children:[(0,n.jsx)("meta",{name:"apple-mobile-web-app-title",content:t.name}),"BASIC_LAUNCH"===t.status&&(0,n.jsx)("meta",{name:"robots",content:"noindex"}),(0,n.jsx)("link",{rel:"preconnect",href:E}),(()=>{if(t.customStructuredData)return(0,n.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:t.customStructuredData}})})()]}),(0,n.jsx)(y,{structuredData:t.structuredData}),(0,n.jsx)(f.A,{canonical:R,title:_,description:D,imageUrl:t.cover,imageQuality:100,type:"game"}),(0,n.jsx)(v.A,{children:(0,n.jsx)(M,{game:t,crawlerData:{isCrawler:o,games:a}})}),(0,n.jsx)(T.A,{children:(0,n.jsx)(G,{game:t,crawlerData:{isCrawler:o,games:a}})})]},t.slug),(0,n.jsx)(m.A,{game:t},`gametracking-${t.slug}`),(0,n.jsx)(u.R,{game:t}),(0,n.jsx)(w.A,{gameId:t.id,gameTechnology:t.technology}),(0,n.jsx)(A.A,{gameId:t.id})]})};F.getInitialProps=async e=>{let t=(e,t,a)=>e.collection?t.tagPageDirectLink(e.collection,{returnRelative:a}):e.category?t.categoryPageDirectLink(e.category.slug,{returnRelative:a}):t.homePageLink(),{pageService:a,routeDataService:n,crawlerService:r}=(0,L.V)(e),i=e.query&&e.query[E.xL],s=(0,P.hz)(e),o=(0,P.Gz)(s)?j.fU:j.TS,[{game:l},c]=await Promise.all([a.gamePage(i),n.getRouteProviderData("game")]),{res:u}=e,g=(0,_.JK)(e);if("ARCHIVED"===l.status){let a=await n.getLocaleRouteProviderData(g),r=R.A.createFromContext(e,a);if(u){let e=t(l,r,!1);u.writeHead(302,{Location:e.as}),u.end()}else{let e=t(l,r,!0);d().push(e.href,e.as)}}u&&l.isKids&&(u.writeHead(302,{Location:`${x.A.Instance.data.kids}/game/${l.slug}`}),u.end());let m=(0,I.uA)(l.slug,c),p="true"===e.query[E.pr],h={game:l,numRelatedGames:o,alternatives:m,isCrawler:p,locale:g};return p?await r.replaceGamePageForCrawler(h,s):h};let N=(0,D.A)("game")((0,C.A)(F))},96230:(e,t,a)=>{"use strict";a.d(t,{a:()=>r,c:()=>n});let n=["newGames","tags","category","tag","game","termsAndConditions","informationForParents","privacyPolicy","10-anniversary","recent","search","scholarship","competitions"],r={newGames:{old:"",new:""},tags:{old:"",new:""},category:{old:"",new:""},tag:{old:"",new:""},game:{old:"",new:""},termsAndConditions:{old:"",new:""},privacyPolicy:{old:"",new:""},"10-anniversary":{old:"",new:""},recent:{old:"",new:""},search:{old:"",new:""},locale:{old:"",new:""}}}},e=>{var t=t=>e(e.s=t);e.O(0,[63368,16352,18951,77317,57611,90636,46593,38792],()=>t(76228)),_N_E=e.O()}]);